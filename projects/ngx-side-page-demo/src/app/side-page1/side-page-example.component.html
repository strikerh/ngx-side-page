<div class="side-page-content">
  <header class="side-page-header">
    <h2>{{ data.title }}</h2>
    <p class="description">{{ data.description }}</p>
  </header>
  {{ data | json }}
  <div class="side-page-body">
    <!-- Basic Demo -->
    <div *ngIf="data.type === 'basic'" class="demo-section">
      <p>This is a basic example of the ngx-side-page component. It demonstrates how to open a side page with minimal configuration.</p>
      <div class="code-example">
        <pre><code>const ref = sidePageService.openSidePage(
  'demo',
  YourComponent,
  &#123;
    width: '400px',
    maxWidth: '95%',
    data: &#123;
      title: 'Basic Demo',
      description: 'This is a basic example'
    &#125;
  &#125;
);</code></pre>
      </div>
      <button class="btn close-btn" (click)="closeWithResult('basic demo closed')">Close Side Page</button>
    </div>

    <!-- Position Demo -->
    <div *ngIf="data.type === 'position'" class="demo-section">
      <p>This example shows how to position the side page on the left side of the screen using the <code>position: 'start'</code> option.</p>
      <div class="code-example">
        <pre><code>const ref = sidePageService.openSidePage(
  'position-demo',
  YourComponent,
  &#123;
    position: 'start', // Left side positioning
    width: '400px',
    maxWidth: '95%'
  &#125;
);</code></pre>
      </div>
      <button class="btn close-btn" (click)="closeWithResult('position demo closed')">Close Side Page</button>
    </div>

    <!-- Width Demo -->
    <div *ngIf="data.type === 'width'" class="demo-section">
      <p>This example demonstrates how to customize the width of the side page. Notice how this panel is wider than the basic example.</p>
      <div class="code-example">
        <pre><code>const ref = sidePageService.openSidePage(
  'width-demo',
  YourComponent,
  &#123;
    width: '600px', // Wider panel
    maxWidth: '95%'
  &#125;
);</code></pre>
      </div>
      <button class="btn close-btn" (click)="closeWithResult('width demo closed')">Close Side Page</button>
    </div>

    <!-- Data Passing Demo -->
    <div *ngIf="data.type === 'data'" class="demo-section">
      <p>This example shows how to pass complex data to the side page component and access it using the <code>SIDE_PAGE_DATA</code> injection token.</p>

      <div class="data-display">
        <h3>Passed Data:</h3>
        <div class="data-section">
          <h4>Items:</h4>
          <ul>
            <li *ngFor="let item of data.complexData.items">
              {{ item.name }} - {{ item.value }}
            </li>
          </ul>
        </div>
        <div class="data-section">
          <h4>User:</h4>
          <p><strong>Name:</strong> {{ data.complexData.user.name }}</p>
          <p><strong>Email:</strong> {{ data.complexData.user.email }}</p>
        </div>
      </div>

      <div class="code-example">
        <pre><code>// In your component
const complexData = &#123;
  items: [
    &#123; id: 1, name: 'Item 1', value: 100 &#125;,
    &#123; id: 2, name: 'Item 2', value: 200 &#125;,
    &#123; id: 3, name: 'Item 3', value: 300 &#125;
  ],
  user: &#123;
    id: 123,
    name: 'John Doe',
    email: 'john&#64;example.com'
  &#125;
&#125;;

const ref = sidePageService.openSidePage(
  'data-demo',
  YourComponent,
  &#123;
    data: &#123;
      complexData: complexData
    &#125;
  &#125;
);

// In the side page component
public data = inject(SIDE_PAGE_DATA);</code></pre>
      </div>
      <button class="btn close-btn" (click)="closeWithResult('data demo closed')">Close Side Page</button>
    </div>

    <!-- Events Demo -->
    <div *ngIf="data.type === 'events'" class="demo-section">
      <p>This example demonstrates how to subscribe to events from the side page. Try closing this panel to see the afterClosed event in action.</p>

      <div class="code-example">
        <pre><code>const ref = sidePageService.openSidePage(
  'events-demo',
  YourComponent
);

// Subscribe to events
ref.afterOpened().subscribe(() => &#123;
  console.log('Side page opened');
&#125;);

ref.afterClosed().subscribe(result => &#123;
  console.log('Side page closed with result:', result);
&#125;);</code></pre>
      </div>
      <p>Close this panel with a custom result:</p>
      <div class="button-group">
        <button class="btn" (click)="closeWithResult({ status: 'success', message: 'Operation completed' })">
          Close with Success
        </button>
        <button class="btn" (click)="closeWithResult({ status: 'cancelled', message: 'User cancelled' })">
          Close with Cancel
        </button>
      </div>
    </div>

    <!-- Form Example -->
    <div *ngIf="data.type === 'form'" class="demo-section">
      <p>This example shows how to use forms in a side page. The form data will be returned when the form is submitted.</p>

      <form [formGroup]="contactForm" (ngSubmit)="submitForm()" class="contact-form">
        <div class="form-group">
          <label for="name">Name</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
            [ngClass]="{'invalid': isInvalid('name')}"
          />
          <div *ngIf="isInvalid('name')" class="error-message">
            Name is required and must be at least 3 characters
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-control"
            [ngClass]="{'invalid': isInvalid('email')}"
          />
          <div *ngIf="isInvalid('email')" class="error-message">
            A valid email is required
          </div>
        </div>

        <div class="form-group">
          <label for="message">Message</label>
          <textarea
            id="message"
            formControlName="message"
            class="form-control"
            rows="4"
            [ngClass]="{'invalid': isInvalid('message')}"
          ></textarea>
          <div *ngIf="isInvalid('message')" class="error-message">
            Message is required
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn submit-btn">Submit</button>
          <button type="button" class="btn cancel-btn" (click)="closeWithResult('form cancelled')">Cancel</button>
        </div>
      </form>
    </div>

    <!-- Details Example -->
    <div *ngIf="data.type === 'details'" class="demo-section">
      <div class="product-details">
        <div class="product-image">
          <img [src]="data.product.image" alt="Product image" />
        </div>

        <div class="product-info">
          <h3>{{ data.product.name }}</h3>
          <p class="product-price">${{ data.product.price.toFixed(2) }}</p>
          <p class="product-description">{{ data.product.description }}</p>

          <h4>Features</h4>
          <ul class="product-features">
            <li *ngFor="let feature of data.product.features">{{ feature }}</li>
          </ul>

          <div class="product-actions">
            <button class="btn buy-btn">Add to Cart</button>
            <button class="btn close-btn" (click)="closeWithResult('details closed')">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Wizard Example -->
    <div *ngIf="data.type === 'wizard'" class="demo-section wizard">
      <div class="wizard-progress">
        <div class="progress-steps">
          <div
            *ngFor="let step of data.steps; let i = index"
            class="step"
            [ngClass]="{'active': i === currentStep, 'completed': i < currentStep}"
          >
            <div class="step-number">{{ i + 1 }}</div>
            <div class="step-title">{{ step.title }}</div>
          </div>
        </div>
        <div class="progress-bar">
          <div class="progress" [style.width.%]="(currentStep / (data.steps.length - 1)) * 100"></div>
        </div>
      </div>

      <div class="wizard-content">
        <!-- Step 1 -->
        <div *ngIf="currentStep === 0" class="wizard-step">
          <h3>Choose a Package</h3>
          <div class="package-options">
            <div class="package-option">
              <h4>Basic</h4>
              <p class="price">$9.99/month</p>
              <ul>
                <li>5 GB Storage</li>
                <li>10 Users</li>
                <li>Basic Support</li>
              </ul>
              <button class="btn select-btn">Select</button>
            </div>

            <div class="package-option recommended">
              <div class="badge">Recommended</div>
              <h4>Pro</h4>
              <p class="price">$19.99/month</p>
              <ul>
                <li>20 GB Storage</li>
                <li>50 Users</li>
                <li>Priority Support</li>
                <li>Advanced Features</li>
              </ul>
              <button class="btn select-btn">Select</button>
            </div>

            <div class="package-option">
              <h4>Enterprise</h4>
              <p class="price">$49.99/month</p>
              <ul>
                <li>Unlimited Storage</li>
                <li>Unlimited Users</li>
                <li>24/7 Support</li>
                <li>Premium Features</li>
                <li>Custom Integration</li>
              </ul>
              <button class="btn select-btn">Select</button>
            </div>
          </div>
        </div>

        <!-- Step 2 -->
        <div *ngIf="currentStep === 1" class="wizard-step">
          <h3>Enter Your Details</h3>
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" class="form-control" />
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" />
          </div>
          <div class="form-group">
            <label>Company</label>
            <input type="text" class="form-control" />
          </div>
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" class="form-control" />
          </div>
        </div>

        <!-- Step 3 -->
        <div *ngIf="currentStep === 2" class="wizard-step">
          <h3>Payment Information</h3>
          <div class="form-group">
            <label>Card Number</label>
            <input type="text" class="form-control" placeholder="1234 5678 9012 3456" />
          </div>
          <div class="form-row">
            <div class="form-group half">
              <label>Expiry Date</label>
              <input type="text" class="form-control" placeholder="MM/YY" />
            </div>
            <div class="form-group half">
              <label>CVC</label>
              <input type="text" class="form-control" placeholder="123" />
            </div>
          </div>
          <div class="form-group">
            <label>Billing Address</label>
            <textarea class="form-control" rows="3"></textarea>
          </div>
        </div>

        <!-- Step 4 -->
        <div *ngIf="currentStep === 3" class="wizard-step">
          <h3>Confirmation</h3>
          <div class="confirmation">
            <div class="confirmation-icon">âœ“</div>
            <h4>Thank You!</h4>
            <p>Your order has been received and is being processed.</p>
            <p>You will receive a confirmation email shortly.</p>
            <p>Order Reference: <strong>#ORD-2025-12345</strong></p>
          </div>
        </div>
      </div>

      <div class="wizard-actions">
        <button
          *ngIf="currentStep > 0"
          class="btn back-btn"
          (click)="prevStep()"
        >
          Back
        </button>
        <button
          *ngIf="currentStep < data.steps.length - 1"
          class="btn next-btn"
          (click)="nextStep()"
        >
          Next
        </button>
        <button
          *ngIf="currentStep === data.steps.length - 1"
          class="btn finish-btn"
          (click)="closeWithResult('wizard completed')"
        >
          Finish
        </button>
      </div>
    </div>
  </div>
</div>
